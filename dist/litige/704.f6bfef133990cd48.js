"use strict";(self.webpackChunkLitige=self.webpackChunkLitige||[]).push([[704],{6704:(lt,D,a)=>{a.r(D),a.d(D,{TabDispComponent:()=>st});var l=a(4006),C=a(8675),Z=a(4004),d=a(6895),r=a(9549),g=a(4144),h=a(7957),T=a(4859),A=a(7392),m=a(7155),t=a(4650),x=a(529),U=a(9299),y=a(6885),b=a(3238);function E(e,i){if(1&e&&(t.TgZ(0,"mat-option",27),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function N(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Name "),t.qZA())}function M(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function O(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Address "),t.qZA())}function Y(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.address," ")}}function v(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Email "),t.qZA())}function P(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.email," ")}}function B(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Phone "),t.qZA())}function L(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.phone," ")}}function Q(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Description "),t.qZA())}function j(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.description," ")}}function q(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Due Date "),t.qZA())}function R(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.due_date,"yyyy-MM-dd")," ")}}function I(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Opened At "),t.qZA())}function $(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.opened_at,"yyyy-MM-dd")," ")}}function K(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Resolution Date "),t.qZA())}function W(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.resolution_date,"yyyy-MM-dd")," ")}}function k(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Status "),t.qZA())}function J(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.status," ")}}function F(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Litige Number "),t.qZA())}function S(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.litige_number," ")}}function w(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Status inv"),t.qZA())}function H(e,i){if(1&e&&(t.TgZ(0,"td",29)(1,"button",30),t._uU(2),t.qZA()()),2&e){const n=i.$implicit;t.xp6(2),t.hij(" ",n.invoices_status," ")}}function X(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Created At "),t.qZA())}function z(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.created_at,"yyyy-MM-dd")," ")}}function G(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Updated At "),t.qZA())}function V(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.updated_at,"yyyy-MM-dd")," ")}}function tt(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Invoice Number "),t.qZA())}function et(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.invoice_number," ")}}function it(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Montant "),t.qZA())}function nt(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.montant," ")}}function at(e,i){1&e&&(t.TgZ(0,"th",28),t._uU(1," Issue Date "),t.qZA())}function ot(e,i){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.issue_date," ")}}function _t(e,i){1&e&&t._UZ(0,"tr",31)}function mt(e,i){1&e&&t._UZ(0,"tr",32)}let st=(()=>{const i=class{constructor(s,_,o){this.http=s,this.route=_,this.socket=o,this.clients=[],this.dataSource=[],this.displayedColumns=["name","address","email","phone","litige_number","description","opened_at","resolution_date","status"],this.data=[],this.searchTerm="",this.myControl=new l.NI(""),this.client=[],this.clienttNames=[]}ngOnInit(){this.disputeapi(),this.socketcall()}socketcall(){this.socket.listen("dispute_resolved").subscribe({next:s=>{console.log("Notification received:",s),this.disputeapi()}})}disputeapi(){this.filtered=this.myControl.valueChanges.pipe((0,C.O)(""),(0,Z.U)(_=>this._filter(_||""))),this.http.get("http://127.0.0.1:5000/client/join",{withCredentials:!0}).subscribe({next:_=>{this.api=_;const o=["address","clientid","created_at","description","due_date","email","invoice_id","litige_number","name","opened_at","phone","resolution_date","status","updated_at"];this.data=(this.api.data||[]).map(c=>{const p={};return o.forEach(u=>{c.hasOwnProperty(u)&&(p[u]=c[u])}),p}),this.client=this.api.clients,this.clienttNames=this.client.map(c=>c.name),console.log("client",this.data),this.dataSource=this.data}})}_filter(s){const _=s.toLowerCase();return this.clienttNames.filter(o=>o.toLowerCase().includes(_))}transfer(){const _="http://127.0.0.1:5000/autocomplete/clients/"+this.myControl.value;this.filtered=this.myControl.valueChanges.pipe((0,C.O)(""),(0,Z.U)(o=>this._filter(o||""))),this.http.get(_,{withCredentials:!0}).subscribe({next:o=>{this.api=o;const c=["address","clientid","created_at","description","due_date","email","invoice_id","litige_number","name","opened_at","phone","resolution_date","status","updated_at"];this.data=(this.api.data||[]).map(p=>{const u={};return c.forEach(f=>{p.hasOwnProperty(f)&&(u[f]=p[f])}),u}),this.client=this.api.clients,this.clienttNames=this.client.map(p=>p.name),console.log("client",this.clienttNames),this.dataSource=this.data}})}};let e=i;return i.\u0275fac=function(_){return new(_||i)(t.Y36(x.eN),t.Y36(U.F0),t.Y36(y.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-tab-disp"]],standalone:!0,features:[t.jDz],decls:63,vars:8,consts:[[1,"example-form"],[1,"example-full-width"],["type","text","placeholder","Pick one","aria-label","names","matInput","",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","address"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","description"],["matColumnDef","due_date"],["matColumnDef","opened_at"],["matColumnDef","resolution_date"],["matColumnDef","status"],["matColumnDef","litige_number"],["matColumnDef","invoices_status"],["matColumnDef","created_at"],["matColumnDef","updated_at"],["matColumnDef","invoice_number"],["matColumnDef","montant"],["matColumnDef","issue_date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-button",""],["mat-header-row",""],["mat-row",""]],template:function(_,o){if(1&_&&(t.TgZ(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"names"),t.qZA(),t._UZ(4,"input",2),t.TgZ(5,"mat-autocomplete",null,3),t.YNc(7,E,2,2,"mat-option",4),t.ALo(8,"async"),t.qZA()(),t.TgZ(9,"button",5),t.NdJ("click",function(){return o.transfer()}),t.TgZ(10,"mat-icon"),t._uU(11,"search"),t.qZA()()(),t.TgZ(12,"table",6),t.ynx(13,7),t.YNc(14,N,2,0,"th",8),t.YNc(15,M,2,1,"td",9),t.BQk(),t.ynx(16,10),t.YNc(17,O,2,0,"th",8),t.YNc(18,Y,2,1,"td",9),t.BQk(),t.ynx(19,11),t.YNc(20,v,2,0,"th",8),t.YNc(21,P,2,1,"td",9),t.BQk(),t.ynx(22,12),t.YNc(23,B,2,0,"th",8),t.YNc(24,L,2,1,"td",9),t.BQk(),t.ynx(25,13),t.YNc(26,Q,2,0,"th",8),t.YNc(27,j,2,1,"td",9),t.BQk(),t.ynx(28,14),t.YNc(29,q,2,0,"th",8),t.YNc(30,R,3,4,"td",9),t.BQk(),t.ynx(31,15),t.YNc(32,I,2,0,"th",8),t.YNc(33,$,3,4,"td",9),t.BQk(),t.ynx(34,16),t.YNc(35,K,2,0,"th",8),t.YNc(36,W,3,4,"td",9),t.BQk(),t.ynx(37,17),t.YNc(38,k,2,0,"th",8),t.YNc(39,J,2,1,"td",9),t.BQk(),t.ynx(40,18),t.YNc(41,F,2,0,"th",8),t.YNc(42,S,2,1,"td",9),t.BQk(),t.ynx(43,19),t.YNc(44,w,2,0,"th",8),t.YNc(45,H,3,1,"td",9),t.BQk(),t.ynx(46,20),t.YNc(47,X,2,0,"th",8),t.YNc(48,z,3,4,"td",9),t.BQk(),t.ynx(49,21),t.YNc(50,G,2,0,"th",8),t.YNc(51,V,3,4,"td",9),t.BQk(),t.ynx(52,22),t.YNc(53,tt,2,0,"th",8),t.YNc(54,et,2,1,"td",9),t.BQk(),t.ynx(55,23),t.YNc(56,it,2,0,"th",8),t.YNc(57,nt,2,1,"td",9),t.BQk(),t.ynx(58,24),t.YNc(59,at,2,0,"th",8),t.YNc(60,ot,2,1,"td",9),t.BQk(),t.YNc(61,_t,1,0,"tr",25),t.YNc(62,mt,1,0,"tr",26),t.qZA()),2&_){const c=t.MAs(6);t.xp6(4),t.Q6J("formControl",o.myControl)("matAutocomplete",c),t.xp6(3),t.Q6J("ngForOf",t.lcZ(8,6,o.filtered)),t.xp6(5),t.Q6J("dataSource",o.dataSource),t.xp6(49),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)}},dependencies:[d.ez,d.sg,d.Ov,d.uU,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.oH,l.u5,l.F,r.lN,r.KE,r.hX,g.c,g.Nt,h.Bb,h.XC,b.ey,h.ZL,T.ot,T.lW,T.RK,A.Ps,A.Hw,m.p0,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk]}),e})()}}]);